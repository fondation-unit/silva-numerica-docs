"use strict";(self.webpackChunksilva_numerica_docs=self.webpackChunksilva_numerica_docs||[]).push([[737],{4460:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>o});var i=t(5893),c=t(1151);const r={sidebar_position:3},s="Construction",a={id:"xapi/construction",title:"Construction",description:"Sp\xe9cifications pour la construction de d\xe9clarations xAPI.",source:"@site/docs/xapi/construction.md",sourceDirName:"xapi",slug:"/xapi/construction",permalink:"/silva-numerica-docs/docs/xapi/construction",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Liste des verbes",permalink:"/silva-numerica-docs/docs/xapi/liste-des-verbes"}},d={},o=[{value:"Acteur",id:"acteur",level:2},{value:"Verbe",id:"verbe",level:2},{value:"Objet",id:"objet",level:2},{value:"Activity",id:"activity",level:3},{value:"Agent / Group",id:"agent--group",level:3},{value:"StatementRef",id:"statementref",level:3},{value:"SubStatement",id:"substatement",level:3}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"construction",children:"Construction"}),"\n",(0,i.jsx)(n.p,{children:"Sp\xe9cifications pour la construction de d\xe9clarations xAPI."}),"\n",(0,i.jsxs)(n.p,{children:["Outil g\xe9n\xe9rateur de statements : ",(0,i.jsx)(n.a,{href:"https://adlnet.github.io/xapi-lab/",children:"https://adlnet.github.io/xapi-lab/"})]}),"\n",(0,i.jsx)(n.h2,{id:"acteur",children:"Acteur"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Sp\xe9cifications : ",(0,i.jsx)(n.a,{href:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#242-actor",children:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#242-actor"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["Il est n\xe9cessaire d'identifier l'utilisateur concern\xe9 par la d\xe9claration xAPI. Voir ",(0,i.jsx)(n.a,{href:"../authentification/authentification-oauth2",children:"Authentification OAuth2"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["\xc0 partir des informations de l'utilisateur r\xe9cup\xe9r\xe9es apr\xe8s un ",(0,i.jsx)(n.em,{children:"Devise Authentication Flow"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="Infos utilisateur"',children:'{\n    "id": 1,\n    "email": "john.doe@example.com",\n    "firstname": "John",\n    "lastname": "Doe",\n    "created_at": "2023-11-06T15:49:07.837Z",\n    "updated_at": "2023-12-07T09:13:02.592Z"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["On peut collecter les valeurs ",(0,i.jsx)(n.code,{children:"id"})," et ",(0,i.jsx)(n.code,{children:"email"})," pour construire l'objet ",(0,i.jsx)(n.code,{children:"actor"})," \xe0 partir des infos d'authentification :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'"actor": {\n    "objectType": "Agent",\n    "mbox": "john.doe@example.com",\n    "account": {\n        "homePage": "http://example.com/users/1",\n        "name": "1"\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"verbe",children:"Verbe"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Sp\xe9cifications ",(0,i.jsx)(n.a,{href:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#243-verb",children:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#243-verb"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["\xc0 partir de la ",(0,i.jsx)(n.a,{href:"../xapi/liste-des-verbes",children:"liste des verbes"}),", identifier celui correspondant \xe0 l'action \xe0 d\xe9crire."]}),"\n",(0,i.jsxs)(n.p,{children:["Construire l'objet ",(0,i.jsx)(n.code,{children:"verb"})," et sp\xe9cifier la traduction fran\xe7aise. Exemple :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'"verb": {\n    "id": "ttp://adlnet.gov/expapi/verbs/answered",\n    "display": {\n        "en-US": "answered",\n        "fr": "r\xe9pondu"\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"objet",children:"Objet"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Sp\xe9cifications : ",(0,i.jsx)(n.a,{href:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#244-object",children:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#244-object"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["Un objet peut \xeatre de 4 types (voir ",(0,i.jsx)(n.a,{href:"../xapi/intro",children:"Introduction"}),")."]}),"\n",(0,i.jsx)(n.h3,{id:"activity",children:"Activity"}),"\n",(0,i.jsx)(n.p,{children:"Permet de repr\xe9senter une activit\xe9 comme objet de la d\xe9claration."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Propri\xe9t\xe9"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Requis"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"objectType"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"MUST be Activity when present"}),(0,i.jsx)(n.td,{children:"non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"id"}),(0,i.jsx)(n.td,{children:"IRI"}),(0,i.jsx)(n.td,{children:"Identifiant unique pour une activit\xe9"}),(0,i.jsx)(n.td,{children:"oui"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"definition"}),(0,i.jsx)(n.td,{children:"Object"}),(0,i.jsx)(n.td,{children:"M\xe9tadonn\xe9es, voir exemple ci-dessous"}),(0,i.jsx)(n.td,{children:"non"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="Exemple d\'objet de type Activity"',children:'"object": {\n    // highlight-start\n    "objectType": "Activity",\n    // highlight-end\n    "id": "http://example.com/objects/custom_resource",\n    "definition": {\n        "name": {\n            "en-US": "Definition name",\n            "fr": "Nom de la d\xe9finition"\n        },\n        "type": "http://id.tincanapi.com/activitytype/book",\n        "description": {\n            "en-US": "Object description",\n            "fr": "Description de l\'objet"\n        },\n        "extensions": {\n            "http://example.com/courseId": "10",\n            "http://example.com/contextId": "75"\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"agent--group",children:"Agent / Group"}),"\n",(0,i.jsxs)(n.p,{children:["Le contenu d'un objet de type ",(0,i.jsx)(n.code,{children:"Agent"})," est \xe9quivalent \xe0 l'objet Agent de la d\xe9claration, auquel il faut obligatoirement ajouter la propri\xe9t\xe9 ",(0,i.jsx)(n.code,{children:'"objectType": "Agent"'}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="Exemple d\'objet de type Agent"',children:'"object": {\n    // highlight-start\n    "objectType": "Agent",\n    // highlight-end\n    "mbox": "mailto:tyler.mulligan.ctr@adlnet.gov",\n    "account": {\n        "name": "xapiguy",\n        "homePage": "http://example.com"\n    },\n    "name": "Tyler"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Le contenu d'un objet de type ",(0,i.jsx)(n.code,{children:"Group"})," est \xe9quivalent et permet de sp\xe9cifier un tableau des agents membres (",(0,i.jsx)(n.code,{children:"member"}),") :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="Exemple d\'objet de type Group"',children:'"object": {\n    // highlight-start\n    "objectType": "Group",\n    // highlight-end\n    "mbox": "mailto:teamxapi@example.com",\n    "name": "The group name",\n    "member": [\n        {\n            "name": "Bob",\n            "account": {\n                "homePage": "http://www.example.com",\n                "name": "13936749"\n            },\n            "objectType": "Agent"\n        },\n        {\n            "name": "Carol",\n            "openid": "http://carol.openid.example.org/",\n            "objectType": "Agent"\n        },\n        {\n            "name": "Tom",\n            "mbox": "mailto:tom@example.com",\n            "objectType": "Agent"\n        },\n        {\n            "name": "Alice",\n            "mbox_sha1sum": "ebd31e95054c018b10727de4db3ef2ec3a016ee9",\n            "objectType": "Agent"\n        }\n    ]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"statementref",children:"StatementRef"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Sp\xe9cifications : ",(0,i.jsx)(n.a,{href:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#statement-references",children:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#statement-references"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"Permet de d\xe9finir une nouvelle d\xe9claration en r\xe9f\xe9rence \xe0 une d\xe9claration existante."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="Exemple d\'objet de type StatementRef"',children:'"object": {\n    "actor": { \n        "objectType": "Agent", \n        "mbox": "mailto:test@example.com" \n    },\n    "verb": { \n        "id":"http://example.com/commented", \n        "display": {\n            "en-US": "commented"\n        } \n    },\n    "object": {\n        // highlight-start\n        "objectType": "StatementRef",\n        "id": "8f87ccde-bb56-4c2e-ab83-44982ef22df0"\n        // highlight-end\n    },\n    "result": { \n        "response": "Wow, nice work!" \n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"substatement",children:"SubStatement"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Sp\xe9cifications : ",(0,i.jsx)(n.a,{href:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#substatements",children:"https://github.com/adlnet/xAPI-Spec/blob/master/xAPI-Data.md#substatements"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["Le type ",(0,i.jsx)(n.code,{children:"SubStatement"})," permet de faire une r\xe9f\xe9rence \xe0 une d\xe9claration d\xe9j\xe0 existante.\nCela permet de d\xe9crire, par exemple :"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"John \xe0 comment\xe9 l'action"}),' "',(0,i.jsx)(n.em,{children:"Bob \xe0 lu un livre"}),'"']}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="Exemple d\'objet de type SubStatement"',children:'"object": {\n    // highlight-start\n    "objectType": "SubStatement",\n    // highlight-end\n    "actor": {\n        "objectType": "Agent",\n        "name": "John Doe",\n        "mbox": "mailto:john.doe@example.com"\n    },\n    "verb": {\n        "id": "http://adlnet.gov/expapi/verbs/commented",\n        "display": {\n            "en-US": "commented"\n        }\n    },\n    "object": {\n        // highlight-start\n        "objectType": "StatementRef",\n        "id": "e05aa883-acaf-40ad-bf54-02c8ce485fb0"\n        // highlight-end\n    }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Dans le cas d'un type ",(0,i.jsx)(n.code,{children:"SubStatement"}),", l'objet ",(0,i.jsx)(n.code,{children:"object"})," doit \xeatre de type ",(0,i.jsx)(n.code,{children:"StatementRef"})," et d\xe9finir l'",(0,i.jsx)(n.code,{children:"id"})," correspondant \xe0 la d\xe9claration de r\xe9f\xe9rence (",(0,i.jsx)(n.em,{children:"UUID du statement"}),")."]})]})}function h(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);